# Replication package of the paper: Smells in System User Interactive Tests

This repository contains the necessary scripts and data required to generate the figures and tables present in the paper: Smells in System User Interactive Tests. In this document we describe each script and the prerequisite required to execute them.

## 1. Prerequisite

* Java 11 or later
* Maven 3.6.0 or later
* Python 3.8 or later
* We recommend to use a dedicate `virtualenv` to run the python scripts as they contain quite a large amount of dependencies.

## 2. Getting started

1. Clone the repository using: `git clone https://github.com/kabinja/suit-smells-replication-package.git`
2. move to the direcotry using: `cd suit-smells-replication-package`
3. (optional) Create a virtual environement e.g.: `mkvirtualenv smells`
4. Install the dependencies using:  `pip install -r requirements.txt`
5. Initialize the working environment using:  `python initialize.py`
6. (optional) If you want to regenerate the open-source dataset, note that this operation is lengthly and requires a few hours: `.\run-smell-detector.sh`
7. Run one of `projects.py`, `smells_selection.py`, `smells.py` to generate the tables and figures. e.g.: `python projects.py`
8. (optional) Clean the environment end deleted all computed, extracted, and downloaded files using: `python clean.py`


## 3. Content of the repository
### 3.1. run-smell-detector.sh

* **Description**: A bash script that is reading all the configurations available under *data/configurations* to execute the smell detector

* **Output**: For each json file contained in *data/configurations*, the script generates two csv files containing information about (1) the project that is analyzed and (2) data about the smells present in each Robot Framework test.

The following of the section describes the Python scripts used to analyze and draw the data generated for the paper. Note that none of the scripts described in this section contain arguments. Futhermore, all the figures from all the scripts are save to the *figures* repository and the table are saved to the *tables* repository in the form of latex tables.

### 3.2. inialize.py

* **Description**: A python script that unzip all the data that are provided in order to avoid to rerunning and download the version of [Ikora Evolution](https://github.com/UL-SnT-Serval/ikora-evolution) used in the paper.

### 3.3. projects.py

* **Description**: A python script that plots information about the projects such as the number of lines, the number of tests, keywords, commits, etc. 

### 3.4. smells_selection.py

* **Description**: This script extract the information contained in the file *data/smells_catalog.xlsx* and plot them. Notably the figures present in RQ1 of the paper are generated by this script.

### 3.5. smells.py

* **Description**: A python script that plots figures and generate tables about the smells present in the projects. Notably, all the tables and figures present in RQ2 and RQ3 of the paper are generated by this script.

### 3.6. clean.py

* **Description**: A python script that removes all the files extracted from the archives as well as the cache files in order to be able to start from a clean environment in case of corruption or if one wants to switch between the strategy presented in section 1.2 and 2.2 to generate the data.

### 3.7. utils scripts

* **Description**: Two python scripts are written to support the activities of the other scripts and cannot be called directly, namely, `graphics.py` and `data.py`.